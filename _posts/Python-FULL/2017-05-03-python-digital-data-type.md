---
title: Python 全栈系列之数字数据类型
layout: post
---

<div id='toggle'></div>

|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|**[数字](#z1)**|创建|init|内部优化机制|


<h3 id='z1'>数字</h3>

在Python3中，整型、长整型、浮点数、负数、布尔值等都可以称之为数字类型。  

#### 1、创建数字类型的对象

`int` 类型通常都是数字，创建数字类型的方式有两种，且在创建的时候值两边不需要加双引号或单引号。  
```python
#第一种创建整型的方式
>>> number = 9
>>> type(number)
<class 'int'>

#第二种创建整型的方式
>>> number = int(9)
>>> type(number)
<class 'int'>
```

#### 2、\__init__

```python
def __init__(self, x, base=10): # known special case of int.__init__
```

可以从源码中看到，`__init__` 的方法有两个参数，其中 `base=10` 是可选的参数，`x` 是我们对象的值  
`int()` 作用：将一个数字或 base 类型的字符串转换成整数  
`base=10` x 作为字符串时必须是 base 类型，也就是说 x 变成数字时必须能用 base 进制表示  

通过 `int()` 可以将一个数字的字符串变成一个整数，并且如果你指定了第二个参数，还可以将值进制数转换为整数：  
指定第二个参数是，x 值必须为字符串
```python
#将数字字符串转换为整数，数字字符串通过进制转换为整数
>>> int('99'),int('100',2),int('0b100',2),int('10000000',2)
(99,4,4,64,64,128)
>>> int('40',16)
64
>>> int(0x40)
64

说明
int(x,y)：y 不传默认为 base = 10 
将 y 进制的对象值 x 转为 十进制数
```

#### 3、int内部优化机制

首先我们知道当我们创建第一个对象 `var1` 的时候会在内存中开辟一块空间作为存放 `var1` 对象的值用的  
当我们创建第二个对象 `var2` 的时候也会在内存中开辟一块空间来作为 `var2` 对象的值  
那如果这样说，那是不是说对象 `var1` 和 `var2` 的值内存是否会同时开辟两块呢？我们通过下面的实例可以得到答案：
```python
#分别创建对象var1和var2
>>> var1 = 123
>>> var2 = 123
#我们可以看到他们的内存地址都是指向的`1502084720`
>>> id(var1)
1502084720
>>> id(var2)
1502084720

测试 -5~257
>>> var1 = 12345
>>> var2 = 12345
>>> id(var1)
2452305956816
>>> id(var2)
2452308384720

```

通过上面的结果我们可以看到 `var1` 和 `var2` 的内存地址是相同的，就代表他们的值是使用的同一块空间  
结论：当两个或者多个对象的值都是同一个的时候，那么这些对象都会使用同一个内存地址，这里的值是是有范围的，默认范围是 `-5~257`  
